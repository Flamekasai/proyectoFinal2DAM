<ion-header>
  <ion-toolbar>
    <ion-title>Perfil</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col size-md="6" offset-md="3">
        <ion-card>
          <ion-card-header>
            <ion-avatar>
              <ion-img></ion-img>
            </ion-avatar>
            <ion-text
              color="primary"
              class="user-id ion-padding"
              >{{ this.auth.getCurrentUser().getId() }}</ion-text>
          </ion-card-header>
          <ion-card-content class="ion-padding">
            <ion-label
              position="stacked"
              color="primary"
              >Email</ion-label>
            <ion-input
              type="mail"
              disabled = "true"
              [(ngModel)]="this.currentEmail"
              ></ion-input>
            <ion-label
              position="stacked"
              color="primary"
              >Nombre</ion-label>
            <ion-input
              type="text"
              [disabled]="!this.bIsEditing"
              [(ngModel)]="this.currentDisplayName"
              ></ion-input>

            <ion-button
              *ngIf="this.bIsEditing"
              color="primary"
              expand="full"
              fill="outline"
              (click)="this.updateAccountInfo()"
              >Confirmar</ion-button>

            <!-- TODO: Add logic to change profile,
              and add change password button when you change the mode to edit. -->
              <!-- <ion-button -->
              <!--   *ngIf="!this.bIsEditing" -->
              <!--   color="primary" -->
              <!--   expand="block" -->
              <!--   fill="solid" -->
              <!--   (click)="this.bIsEditing = true" -->
              <!--   >Actualizar Nombre</ion-button> -->

              <ion-button
                color="danger"
                expand="block"
                fill="solid"
                (click)="deleteAccount()"
                >Eliminar cuenta</ion-button>

              <ion-button
                color="danger"
                expand="block"
                fill="outline"
                (click)='onSignOut()'
                >Cerrar sesi√≥n</ion-button>

          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
